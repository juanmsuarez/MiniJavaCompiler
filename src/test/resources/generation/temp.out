.CODE
PUSH HELPER_HEAP_INIT
CALL
PUSH METHOD_Main_main
CALL
HALT
HELPER_HEAP_INIT:
RET 0
HELPER_MALLOC:
LOADFP
LOADSP
STOREFP
LOADHL
DUP
PUSH 1
ADD
STORE 4
LOAD 3
ADD
STOREHL
STOREFP
RET 1
.DATA
VT_A: DW METHOD_A_f1, METHOD_A_f4
.CODE
CONSTRUCTOR_A: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_A_f1: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_0: DW "A.f1()", 0
.CODE
PUSH STRING_ID_0
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_A_f2: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_1: DW "A.f2()", 0
.CODE
PUSH STRING_ID_1
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
FMEM 0
STOREFP
RET 0
.CODE
METHOD_A_f4: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_2: DW "A.f4()", 0
.CODE
PUSH STRING_ID_2
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
FMEM 0
STOREFP
RET 1
.DATA
VT_B: DW METHOD_B_f1, METHOD_A_f4
.CODE
CONSTRUCTOR_B: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_B_f1: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_3: DW "B.f1()", 0
.CODE
PUSH STRING_ID_3
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
LOAD 3
.CODE
DUP
LOADREF 0
LOADREF 1
CALL
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_B_f3: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_4: DW "B.f3()", 0
.CODE
PUSH STRING_ID_4
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
PUSH METHOD_A_f2
CALL
.CODE
FMEM 0
STOREFP
RET 0
.DATA
VT_C: DW METHOD_B_f1, METHOD_C_f4
.CODE
CONSTRUCTOR_C: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
.CODE
DUP
LOADREF 0
LOADREF 0
CALL
.CODE
PUSH METHOD_System_println
CALL
.CODE
PUSH METHOD_C_f2
CALL
.CODE
PUSH METHOD_System_println
CALL
.CODE
PUSH METHOD_B_f3
CALL
.CODE
PUSH METHOD_System_println
CALL
.CODE
LOAD 3
.CODE
DUP
LOADREF 0
LOADREF 1
CALL
.CODE
PUSH METHOD_System_println
CALL
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_C_f2: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_5: DW "C.f2()", 0
.CODE
PUSH STRING_ID_5
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
FMEM 0
STOREFP
RET 0
.CODE
METHOD_C_f4: LOADFP
LOADSP
STOREFP
RMEM 0
.DATA
STRING_ID_6: DW "C.f4()", 0
.CODE
PUSH STRING_ID_6
.CODE
PUSH METHOD_System_printSln
CALL
.CODE
FMEM 0
STOREFP
RET 1
.DATA
VT_Object: NOP
.CODE
CONSTRUCTOR_Object: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
FMEM 0
STOREFP
RET 1
.DATA
VT_Main: NOP
.CODE
CONSTRUCTOR_Main: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_Main_main: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
RMEM 1
PUSH 1
PUSH HELPER_MALLOC
CALL
DUP
PUSH VT_C
STOREREF 0
DUP
.CODE
PUSH CONSTRUCTOR_C
CALL
.CODE
POP
.CODE
FMEM 0
STOREFP
RET 0
.DATA
VT_System: NOP
.CODE
CONSTRUCTOR_System: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_printC: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
CPRINT
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_printS: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
SPRINT
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_println: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
PRNLN
.CODE
FMEM 0
STOREFP
RET 0
.CODE
METHOD_System_printCln: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
CPRINT
PRNLN
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_printSln: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
SPRINT
PRNLN
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_read: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
READ
STORE 3
.CODE
FMEM 0
STOREFP
RET 0
.CODE
METHOD_System_printB: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
BPRINT
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_printIln: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
IPRINT
PRNLN
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_printI: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
IPRINT
.CODE
FMEM 0
STOREFP
RET 1
.CODE
METHOD_System_printBln: LOADFP
LOADSP
STOREFP
RMEM 0
.CODE
LOAD 3
BPRINT
PRNLN
.CODE
FMEM 0
STOREFP
RET 1
